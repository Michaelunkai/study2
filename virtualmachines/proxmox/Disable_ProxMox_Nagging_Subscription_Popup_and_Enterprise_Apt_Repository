▲A  A▼
Disable ProxMox Nagging Subscription Popup and Enterprise Apt Repository
Log into ProxMox VE, either at the console or the web UI and launch the web shell
Run the following commands
# disable proxmox commmercial repo
sed -i "s/^deb/\#deb/" /etc/apt/sources.list.d/pve-enterprise.list
# add the proxmox community repo
echo "deb http://download.proxmox.com/debian/pve $(grep "VERSION=" /etc/os-release | sed -n 's/.*(\(.*\)).*/\1/p') pve-no-subscription" > /etc/apt/sources.list.d/pve-community.list
# update software repositories
apt update
# remove no subscription nag popup
# if running promox 6
sed -i.bak 's/NotFound/Active/g' /usr/share/perl5/PVE/API2/Subscription.pm
# if running proxmox 7
sed -Ezi.bak "s/(Ext.Msg.show\(\{\s+title: gettext\('No valid sub)/void\(\{ \/\/\1/g" /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js
# restart pveproxy service
systemctl restart pveproxy.service
After running the commands, log out of ProxMox VE web UI and log back in
 
