<!DOCTYPE html>
<html lang="en">
<head>
<meta name="generator" content=
"HTML Tidy for HTML5 for Linux version 5.6.0">
<meta charset="UTF-8">
<meta name="viewport" content=
"width=device-width, initial-scale=1.0">
<title>File Upload</title>

<script>
        async function downloadAllFiles() {
            const response = await fetch('/download_all');
            const files = await response.json();
            for (const file of files) {
                const link = document.createElement('a');
                link.href = file;
                link.download = '';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                await new Promise(resolve => setTimeout(resolve, 1000)); // 1 second delay between downloads
            }
        }

        async function getWgetCommand() {
            const response = await fetch('/download_all');
            const files = await response.json();
            const baseUrl = window.location.origin;
            const wgetCommands = files.map(file => `wget ${baseUrl}${file}`).join(' && ');
            document.getElementById('wgetCommand').textContent = wgetCommands;
        }
</script>
</head>
<body>
<h1>Uploaded Files</h1>
<form action="/upload" method="post" enctype="multipart/form-data">
<input type="file" name="file[]" id="file" multiple> <input type=
"submit" value="Upload"></form>
<h2>Files and Directories:</h2>
<ul>{% for item, is_directory in items %}
<li>{% if is_directory %} <a href=
"{{%20url_for('browse_directory',%20directory=item)%20}}">{{ item
}}</a> {% else %} <a href=
"{{%20url_for('download_file',%20filename=item)%20}}">{{ item
}}</a> {% endif %}
<form action="{{%20url_for('delete_file',%20filename=item)%20}}"
method="post" style="display: inline;"><button type=
"submit">Remove</button></form>
</li>
{% endfor %}</ul>
<form action="/remove_all" method="post"><button type=
"submit">Remove All</button></form>
<button onclick="downloadAllFiles()">Download All</button>
<button onclick="getWgetCommand()">Show wget Command</button>
<pre id="wgetCommand"></pre>
</body>
</html>
